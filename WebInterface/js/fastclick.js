function FastClick(e){"use strict";var t,n=this;this.trackingClick=false;this.trackingClickStart=0;this.targetElement=null;this.layer=e;if(!e||!e.nodeType){throw new TypeError("Layer must be a document node")}this.onClick=function(){FastClick.prototype.onClick.apply(n,arguments)};this.onTouchStart=function(){FastClick.prototype.onTouchStart.apply(n,arguments)};this.onTouchMove=function(){FastClick.prototype.onTouchMove.apply(n,arguments)};this.onTouchEnd=function(){FastClick.prototype.onTouchEnd.apply(n,arguments)};this.onTouchCancel=function(){FastClick.prototype.onTouchCancel.apply(n,arguments)};if(typeof window.ontouchstart==="undefined"){return}e.addEventListener("click",this.onClick,true);e.addEventListener("touchstart",this.onTouchStart,false);e.addEventListener("touchmove",this.onTouchMove,false);e.addEventListener("touchend",this.onTouchEnd,false);e.addEventListener("touchcancel",this.onTouchCancel,false);if(typeof e.onclick==="function"){t=e.onclick;e.addEventListener("click",function(e){t(e)},false);e.onclick=null}}FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0;FastClick.prototype.needsClick=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"label":case"video":return true;default:return/\bneedsclick\b/.test(e.className)}};FastClick.prototype.needsFocus=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"textarea":case"select":return true;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false}return true;default:return/\bneedsfocus\b/.test(e.className)}};FastClick.prototype.maybeSendClick=function(e,t){"use strict";var n,r;if(this.needsClick(e)){return false}if(document.activeElement&&document.activeElement!==e){document.activeElement.blur()}r=t.changedTouches[0];n=document.createEvent("MouseEvents");n.initMouseEvent("click",true,true,window,1,r.screenX,r.screenY,r.clientX,r.clientY,false,false,false,false,0,null);n.forwardedTouchEvent=true;e.dispatchEvent(n);return true};FastClick.prototype.onTouchStart=function(e){"use strict";var t=e.targetTouches[0];this.trackingClick=true;this.trackingClickStart=e.timeStamp;this.targetElement=e.target;this.touchStartX=t.pageX;this.touchStartY=t.pageY;if(e.timeStamp-this.lastClickTime<200){e.preventDefault()}return true};FastClick.prototype.touchHasMoved=function(e){"use strict";var t=e.targetTouches[0];if(Math.abs(t.pageX-this.touchStartX)>10||Math.abs(t.pageY-this.touchStartY)>10){return true}return false};FastClick.prototype.onTouchMove=function(e){"use strict";if(!this.trackingClick){return true}if(this.targetElement!==e.target||this.touchHasMoved(e)){this.trackingClick=false;this.targetElement=null}return true};FastClick.prototype.findControl=function(e){"use strict";if(e.control!==undefined){return e.control}if(e.htmlFor){return document.getElementById(e.htmlFor)}return e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")};FastClick.prototype.onTouchEnd=function(e){"use strict";var t,n,r=this.targetElement;if(!this.trackingClick){return true}if(e.timeStamp-this.lastClickTime<200){this.cancelNextClick=true;return true}this.lastClickTime=e.timeStamp;n=this.trackingClickStart;this.trackingClick=false;this.trackingClickStart=0;if(r.nodeName.toLowerCase()==="label"){t=this.findControl(r);if(t){r.focus();if(this.deviceIsAndroid){return false}if(this.maybeSendClick(t,e)){this.targetElement=null;e.preventDefault()}return false}}else if(this.needsFocus(r)){if(e.timeStamp-n>100){this.targetElement=null;return true}r.focus();if(r.tagName.toLowerCase()!=="select"){this.targetElement=null;e.preventDefault()}return false}if(!this.maybeSendClick(r,e)){return false}e.preventDefault();return false};FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=false;this.targetElement=null};FastClick.prototype.onClick=function(e){"use strict";var t;if(e.forwardedTouchEvent){return true}if(!this.targetElement){return true}t=this.targetElement;this.targetElement=null;if(!e.cancelable){return true}if(e.target.type==="submit"&&e.detail===0){return true}if(!this.needsClick(t)||this.cancelNextClick){this.cancelNextClick=false;if(e.stopImmediatePropagation){e.stopImmediatePropagation()}e.stopPropagation();e.preventDefault();return false}return true};FastClick.prototype.destroy=function(){"use strict";var e=this.layer;e.removeEventListener("click",this.onClick,true);e.removeEventListener("touchstart",this.onTouchStart,false);e.removeEventListener("touchmove",this.onTouchMove,false);e.removeEventListener("touchend",this.onTouchEnd,false);e.removeEventListener("touchcancel",this.onTouchCancel,false)};if(typeof define==="function"&&define.amd){define(function(){"use strict";return FastClick})}if(typeof module!=="undefined"&&module.exports){module.exports=function(e){"use strict";return new FastClick(e)};module.exports.FastClick=FastClick}